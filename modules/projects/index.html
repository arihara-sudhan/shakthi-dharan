<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Modular Website</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <nav>
    <button onclick="loadPage('home')">Home</button>
    <button onclick="loadPage('about')">About</button>
    <button onclick="loadPage('projects')">Projects</button>
  </nav>
  <main id="main-content"></main>

  <script>
    async function loadPage(page) {
      const main = document.getElementById("main-content");
      const res = await fetch(`modules/${page}/index.html`);
      main.innerHTML = await res.text();

      // Automatically trigger biomedical projects load for Projects page
      if (page === "projects") {
        // Wait a tiny bit to ensure DOM is ready
        await new Promise(r => setTimeout(r, 50));
        const bioBtn = document.getElementById("bio-btn");
        if (bioBtn) bioBtn.click();
      }
    }

    // Load home page initially
    loadPage('home');
  </script>
</body>
</html>
